<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Modal Example</title>
  <style>
  .modal {
    display: none; 
    position: fixed; 
    z-index: 1; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgb(0,0,0); 
    background-color: rgba(0,0,0,0.4); 
  }
  
  .modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
  }
  
  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }
  
  .close:hover,
  .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }
</style>
</head>
<body>

<button id="openModalBtn">Open Modal</button>

<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Upload File</h2>
    <form id="uploadForm" action="#" method="post" enctype="multipart/form-data">
      <input type="file" name="fileToUpload" id="fileToUpload" accept=".txt, .pdf, .doc, .docx">
      <input type="submit" value="Upload" id="uploadBtn">
    </form>
  </div>
</div>

<script>
  var modal = document.getElementById("myModal");
var btn = document.getElementById("openModalBtn");
var span = document.getElementsByClassName("close")[0];
var uploadForm = document.getElementById("uploadForm");
var uploadBtn = document.getElementById("uploadBtn");

btn.onclick = function() {
  modal.style.display = "block";
}

span.onclick = function() {
  modal.style.display = "none";
}

window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

uploadForm.onsubmit = function(event) {
  event.preventDefault(); // Prevent the default form submission

  var fileInput = document.getElementById('fileToUpload');
  var file = fileInput.files[0];

  if (file) {
    // Here you can handle the file upload using AJAX or other methods
    console.log('File selected:', file.name);
    // For demonstration purpose, you can just hide the modal after selecting a file
    modal.style.display = "none";
  } else {
    alert("Please select a file to upload.");
  }
}
</script>
</body>
</html>